<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="vendor/styles/normalize.css">
    <link rel="stylesheet" type="text/css" href="styles/base.css">
    <link rel="stylesheet" type="text/css" href="styles/layout.css">
    <link rel="stylesheet" type="text/css" href="styles/modules.css">
    <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond" rel="stylesheet">
    <title>Imbibe OR</title>

    <!----------------- thread title template -------------------- -->
    <!-- post MVP -->
    <!-- 
    <script id="thread-title-template" type="text/x-handlebars-template">
      {{#each thread}}
        <article>
        <a href="/titles"  {{title}}</h2>
        </article>
      {{/each}}
    </script>
    -->

    <!-- --------------- full thread template --------------------- -->
    <script id="thread-template" type="text/x-handlebars-template">
      {{#each thread}}
        <article class="one-thread" data-threadId="{{_id}}" data-userId="{{userId}}">
          <h3>{{title}}</h3>
          <div>{{text}}</div>
          <div>posted by {{username}}</div>
          <div class="thread-buttons">
            
            <button data-threadId="{{_id}}" data-userId="{{userId}}" name="add-remark">Add Remark</button>
            <button data-threadId="{{_id}}" data-userId="{{userId}}" name="follow-user">Follow User</button>
            <button data-threadId="{{_id}}" data-userId="{{userId}}" name="follow-thread">Follow Thread</button>
            <button data-threadId="{{_id}}" data-userId="{{userId}}" name="create-thread">Create New Thread</button>

            {{#if isOwner}}
              <button data-threadId="{{_id}}" data-userId="{{userId}}" name="edit-thread">Edit Thread</button>
              <button data-threadId="{{_id}}" data-userId="{{userId}}" name="delete-thread">Delete Thread</button>
            {{/if}}

          </div>
        </article>
        
        {{#each remarks}}
          <div class="remark-content" id="view-remarks"> <!-- needs remId -->
            <div>{{text}}</div>
            <div>posted by {{username}}</div>
            <div class="remark-buttons">

              <button data-remId="{{_id}}" data-userId="{{userId}}" name="follow-user-rem">Follow User</button>
              <button data-remId="{{_id}}" data-userId="{{userId}}" name="create-thread-rem">Create New Thread</button>

              {{#if isOwner}}
                <button data-remId="{{_id}}" data-userId="{{userId}}" data-threadId="{{threadId}}" name="edit-remark">Edit Remark</button>
                <button data-remId="{{_id}}" data-userId="{{userId}}" name="delete-remark">Delete Remark</button>
              {{/if}}

            </div>
          </div>
        {{/each}}
      {{/each}}
    </script>

  </head>
  <body>
    <div class="static" id="header">
      <h1>ImbibeOR</h1>
      <img id="imbibe-logo" src="assets/imbibe-logo.png" alt="imbibe logo">

      <nav class="main-nav">
        <ul>
          <div class="icon-menu"></div>
          <li class="link"><a href="/" id="home-link"><span class="branding">ImbibeOR</span></a></li>
          <li class="link"><a href="about" id="about-link">About</a></li>
          <li class="link"><a href="add-thread" id="add-thread-link">Add New Thread</a></li>
          <li class="link"><a href="search-threads" id="search-threads-link">Search Threads</a></li>
          <li class="link"><a href="following"  id="following-link">Following</a></li>
          <li class="link"><a href="login"  id="login-link">Log In</a></li>
          <li class="link"><a href="signup" id="signup-link">Sign up</a></li>
          <li class="link"><a href="logout" id="logout-link">Log Out</a></li>
        </ul>
      </nav>
      <p id="user-status">Not logged in</p>

      <!-- --------------- login ------------------------- -->
      <div class="content" id="login-page">
        <h2 id="login-header">Log In</h2>
        <form id="login-form">
          Username:<br>
          <input type="text" name="username"><br>
          Password:<br>
          <input type="password" name="password"><br><br>
          <input type="submit" value="Login" class="submit">
        </form>
      </div>

      <!-- ----------------- sign up ----------------------- -->
      <div class="content" id="signup-page">
        <h2 id ='signup-header'>Sign Up</h2>
        <form id="signup-form">
          Name:<br>
          <input type="text" name="name"><br>
          Email:<br>
          <input type="email" name="email"><br>
          Username:<br>
          <input type="text" name="username"><br>
          Password:<br>
          <input type="password" name="Password"><br><br>
          <input type="submit" value="Sign Up" class="submit">
        </form>
      </div>

      <!-- --------------- logout ------------------------- -->
      <div class="content" id="logout-page">
        <h2 id='logout-message'></h2>
         <button id="logout-button">Log Out</button>
      </div>
</div>

  <!-- --------------- following ------------------------- -->
      <div class="content" id="following-page">
        <h2 >Following </h2>
        <h2 >Users</h2>
        <h3 id='following-users-tag'>You are following these <em>users:</em></h3>
        <br>
        <h2 >Threads</h2>
        <h3 id='following-threads-tag'>You are following these <em>threads:</em></h3>
        <br>
      </div>

    <div class ="content" id="flexcontainer">
      <!-- ----------------- image map ----------------------- -->
      <!-- map made resizable with imageMapResizer - see scripts -->
      <div class="map-content" id="home-page">
        <img id="map" src="./assets/or-region-map.png"  border="0" width="100%"usemap="#map" />

        <map name="map">
        <!-- #$-:Image map file created by GIMP Image Map plug-in -->
        <!-- #$-:GIMP Image Map plug-in by Maurits Rijk -->
        <!-- #$-:Please do not edit lines starting with "#$" -->
        <!-- #$VERSION:2.3 -->
        <!-- #$AUTHOR:tim combs -->
        <area id="northcoast" shape="poly" coords="252,71,244,66,238,58,228,57,222,66,211,63,192,67,190,75,190,88,192,91,187,98,187,131,190,140,187,152,185,170,186,176,184,182,182,196,183,203,183,217,179,224,178,233,191,233,207,232,205,209,235,209,235,178,238,167,251,157,249,151,239,147,239,138,246,136,249,131,251,72,253,70,251,72" href="#" />

        <area id="centralcoast" shape="poly" coords="178,233,170,263,168,272,172,281,170,285,167,298,171,305,168,311,169,327,165,333,163,339,161,352,166,357,166,368,160,379,158,395,160,407,181,407,191,399,192,378,197,369,205,357,205,349,200,339,207,325,216,320,216,285,208,276,207,233" href="#" />

        <area id="willamette" shape="poly" coords="207,233,205,209,236,209,236,176,270,180,288,193,304,206,305,222,313,237,323,247,334,258,348,262,400,262,396,290,390,336,396,363,393,387,388,401,377,412,377,440,376,448,359,456,359,474,349,474,299,471,296,459,263,454,258,423,223,411,191,392,193,379,201,363,206,357,205,346,202,339,207,324,217,319,217,288,208,276,207,232" href="#" />

        <area id="portland" class="map-region" shape="poly" coords="253,70,280,69,282,72,288,74,299,90,301,101,305,105,305,128,307,138,310,148,317,152,325,157,342,159,353,164,358,163,357,189,352,198,358,207,353,218,368,231,370,263,340,261,330,252,315,238,305,221,305,206,269,179,238,176,239,169,252,157,250,150,240,146,240,138,247,135,249,130,251,71" href="#" />

        <area id="southcoast" shape="poly" coords="160,407,156,412,155,433,152,446,145,457,142,468,131,483,131,503,126,514,122,534,114,557,125,585,132,591,130,601,125,604,123,610,124,635,127,647,134,660,134,669,144,679,158,679,161,683,171,687,187,685,183,657,187,643,180,627,165,623,168,607,181,605,189,581,197,567,191,559,189,536,195,531,199,515,200,496,195,485,195,472,188,449,195,448,204,453,213,454,210,441,199,428,187,404,180,407,160,407" href="#" />
        <area id="southern" shape="poly" coords="187,684,234,685,245,683,277,682,280,684,350,686,485,686,483,575,476,572,437,572,439,450,424,449,377,447,360,456,359,473,299,472,295,460,264,455,257,423,213,406,193,393,186,404,212,445,213,455,195,450,189,449,195,473,196,488,200,500,196,533,191,538,193,561,197,571,181,607,167,608,166,622,181,627,187,643,183,659,187,685" href="#" />
        <area id="hood-gorge" shape="poly" coords="354,163,377,146,387,144,400,140,410,140,423,136,432,136,436,140,452,141,463,150,467,160,453,178,431,180,430,208,413,209,405,214,404,221,407,230,411,237,400,247,399,261,371,262,369,231,354,219,359,207,354,199,358,188,358,163" href="#" />
        <area id="central" shape="poly" coords="464,152,469,145,478,145,481,148,492,143,498,143,507,138,513,138,525,144,528,156,538,171,528,180,522,188,519,209,523,218,528,226,524,233,525,258,536,273,535,327,548,331,569,330,583,340,594,349,608,353,607,399,596,400,594,410,595,437,584,438,583,447,577,452,420,449,376,446,377,413,389,401,398,362,390,337,400,263,400,249,412,236,404,217,413,210,431,207,432,181,454,178,467,161,464,152" href="#" />
        <area id="northeastern" shape="poly" coords="525,145,538,171,524,187,520,209,529,228,525,235,526,259,537,274,536,326,544,330,571,330,596,349,609,352,609,390,699,390,702,382,745,379,753,347,766,340,774,331,810,328,831,335,855,348,855,338,854,325,853,316,861,305,866,295,865,285,873,274,879,272,888,256,887,240,892,228,899,223,905,182,911,170,911,165,919,151,919,144,910,130,894,117,880,106,872,101,867,92,818,93,741,94,731,99,691,99,668,100,659,106,642,107,612,110,604,114,603,120,580,122,557,131,547,140,538,140,526,145" href="#" />
        <area id="southeastern" shape="poly" coords="856,344,867,346,878,352,886,361,886,369,884,374,885,382,886,397,886,401,877,412,875,422,874,443,876,487,878,517,881,520,882,579,885,681,866,685,587,686,484,686,483,574,478,572,437,571,439,450,577,453,586,449,587,439,596,439,596,404,601,401,609,398,611,390,699,390,703,383,745,380,754,348,771,338,776,332,809,329,849,345,855,350,857,343" href="#" />
        </map>

        <button id='all-regions-button'>All Regions</button>
        <div id="state-object-display">Filtering threads by
          <div id="state-region"></div>
          <div id="state-drink-type"></div>
        </div>
      </div>
      <!-- ------------------ drink type categories ---------------------- -->
        <ul class="drink-type-cat">
          <li class="img-link" id="beer"><a href="#"><img src="./assets/beer-button.png" alt="BEER"></img></a></li>
          <li class="img-link" id="wine"><a href="#"><img src="./assets/wine-button.png" alt="WINE"></img></a></li>
          <li class="img-link" id="spirits"><a href="#"><img src="./assets/spirits-button.png" alt="SPIRITS"></img></a></li>
          <li class="img-link" id="other"><a href="#"><img src="./assets/other-button.png" alt="OTHER"></img></a></li>
          <li class="img-link" id="all"><a href="#"><img src="./assets/all-button.png" alt="ALL"></img></a></li>
        </ul>
    </div>

<!-- ------------------ add thread ---------------------- -->
    <div class="content" id="add-thread">
      <h2>Add New Thread</h2>
      <form id="add-thread-form">
        <!-- add thread dropdowns and input fields here. -->
        <select class ="thread-select" id="drink-type-select">
          <option value="beer">Beer</option>
          <option value="wine">Wine</option>
          <option value="spirits">Spirits</option>
          <option value="other">Other</option>
        </select>
        <select class ="thread-select" id="region-select">
          <option value="portland">Portland</option>
          <option value="willamette">Willamette Valley</option>
          <option value="hood-gorge">Mt. Hood - Columbia Gorge</option>
          <option value="northcoast">North Coast</option>
          <option value="centralcoast">Central Coast</option>
          <option value="southcoast">Southern Coast</option>
          <option value="central">Central</option>
          <option value="southern">Southern</option>
          <option value="northeastern">Northeastern</option>
          <option value="southeastern">Southeastern</option>
          <!-- more options here -->
        </select>
        <br>
        Thread Title<br>
        <input type="text" name="Thread Title"><br>
        Text<br>
        <textarea id="add-thread-textarea" name="Thread Text"rows="6" cols="80"></textarea>

        <input type="submit" value="Add Thread" class="submit">
      </form>
    </div>
<!-- ------------------ edit thread ---------------------- -->
    <div class="content" id="edit-thread">
      <h2 id='edit-thread-header'>Edit Thread: </h2>
      <h2 id='edit-thread-title'></h2>
      <form id="edit-thread-form">
        <textarea id='edit-thread-textarea' rows="6" cols="80" placeholder="Thread Text can be edited"></textarea>
        <input type="submit" value="Save Edit" class="submit">
      </form>
    </div>
<!-- ------------------ add remark ---------------------- -->
    <div class="content" id="add-remark">
      <h2>Add New Remark</h2>
      <form id="add-remark-form" method="post">
        <textarea name="Remark Text"rows="6" cols="80"></textarea>
        <input type="submit" value="Add Remark" class="submit">
      </form>
    </div>

<!-- ------------------ edit remark ---------------------- -->
    <div class="content" id="edit-remark">
      <h2 id='edit-remark-header'>Edit Remark: </h2>
      <form id="edit-remark-form">
        <textarea id='edit-remark-textarea' rows="6" cols="80">Remark Text can be edited</textarea>
        <input type="submit" value="Save Edit" class="submit">
      </form>
    </div>

<!-- -------------- search threads primary -------------- -->
    <div class="content" id="search-threads">
      <h2 id='search-param-header'>Search Threads by: </h2>
      <form id="search-params-form">
         <select class ="search-select" id="search-params-select">
          <option value="" disabled selected>Select Search Type</option>
          <option value="author">Author</option>
          <option value="text">Text</option>
          <option value="region">Region</option>
          <option value="drink-type">Drink Type</option>
        </select>
      </form>
      <br>

<!-- ------------------ search threads secondary---------------------- -->
   <div class="content" id="drink-type-select-div">
     <select class ="thread-select" id="drink-type-select-search" >
       <option value="" disabled selected>Select Drink Type</option>
       <option value="beer">Beer</option>
       <option value="wine">Wine</option>
       <option value="spirits">Spirits</option>
       <option value="other">Other</option>
     </select>
   </div>

   <div class="content" id="region-select-div">
     <select class ="thread-select-param" id="region-select-search">
        <option value="" disabled selected>Select Region</option>
        <option value="portland">Portland</option>
        <option value="willamette">Willamette Valley</option>
        <option value="hood-gorge">Mt. Hood - Columbia Gorge</option>
        <option value="northcoast">North Coast</option>
        <option value="centralcoast">Central Coast</option>
        <option value="southcoast">Southern Coast</option>
        <option value="central">Central</option>
        <option value="southern">Southern</option>
        <option value="northeastern">Northeastern</option>
        <option value="southeastern">Southeastern</option>
          <!-- more options here -->
     </select>
   </div>

   <div class="content" id="search-text-div">
      <form id="search-text-form">
        <h2 id='search-text-header'>Search by Text: </h2>
        <textarea id='search-textarea' rows="2" cols="20" placeholder="Enter search here"></textarea><br>
        <input type="submit" id="Search-text-submit" value="search for threads" class="submit">
      </form>
     </div> 
</div>
<!-- ----------------- view thread ----------------------- -->
    <div id="flex-thread-container">
      <div class="content" id="thread-container"></div>
    </div>

<!-- ------------------ about ---------------------- -->
    <div class="content" id="about-page">
      <h2>About ImbibeOR</h2>
      <p>ImbibeOR is a beverage travel forum. </p>
    </div>

<!-- --------------------- footer ------------------- -->
    <div class="static" id="footer">
      <p><span class="copy">&copy; Thirsty-Travel-Oregon, 2016</span></p>
    </div>

    <!-- Vendor Files -->
    <script src="vendor/jquery-3.1.1.js"></script>
    <script src="vendor/page.js"></script>
    <script type="text/javascript" src="vendor/imageMapResizer.min.js"></script>
    <script type="text/javascript">$('map').imageMapResize();</script>
  
    <script src="vendor/superagent/superagent.js"></script>
    <script type="text/javascript" src="vendor/handlebars.js"></script>

    <!-- Model Files -->
    <script type="text/javascript" src="scripts/stateObject.js"></script>
    <script type="text/javascript" src="scripts/findThreads.js"></script>

    <!-- Click Handlers Files -->
    <script type="text/javascript" src="scripts/click_handlers/viewUserThreadsClick.js"></script> 
    <script type="text/javascript" src="scripts/click_handlers/viewFollowedThreadsClick.js"></script> 
    <script type="text/javascript" src="scripts/click_handlers/searchTextClick.js"></script> 
    <script type="text/javascript" src="scripts/click_handlers/searchRegionClick.js"></script> 
    <script type="text/javascript" src="scripts/click_handlers/searchDrinkClick.js"></script> 
    <script type="text/javascript" src="scripts/click_handlers/searchParamsClick.js"></script>
    <script type="text/javascript" src="scripts/click_handlers/allRegionsClick.js"></script>
    <script type="text/javascript" src="scripts/click_handlers/editRemarkClick.js"></script>
    <script type="text/javascript" src="scripts/click_handlers/editThreadClick.js"></script>
    <script type="text/javascript" src="scripts/click_handlers/addThreadClick.js"></script>
    <script type="text/javascript" src="scripts/click_handlers/loginClick.js"></script>
    <script type="text/javascript" src="scripts/click_handlers/logoutClick.js"></script>
    <script type="text/javascript" src="scripts/click_handlers/signupClick.js"></script>
    <script type="text/javascript" src="scripts/click_handlers/editThreadClick.js"></script>
    <script type="text/javascript" src="scripts/click_handlers/threadRemarkClick.js"></script>
    <script type="text/javascript" src="scripts/click_handlers/drinkTypeClick.js"></script>
    <script type="text/javascript" src="scripts/click_handlers/mapClick.js"></script>

    <!-- Controller Files -->
    <script type="text/javascript" src="scripts/controllers/reloadHandler.js"></script>
    <script type="text/javascript" src="scripts/controllers/homeController.js"></script>
    <script type="text/javascript" src="scripts/controllers/searchThreadsController.js"></script>
    <script type="text/javascript" src="scripts/controllers/signupController.js"></script>
    <script type="text/javascript" src="scripts/controllers/loginController.js"></script>
    <script type="text/javascript" src="scripts/controllers/aboutController.js"></script>
    <script type="text/javascript" src="scripts/controllers/addThreadController.js"></script>  
    <script type="text/javascript" src="scripts/controllers/logoutController.js"></script>
    <script type="text/javascript" src="scripts/controllers/followingController.js"></script>
    <script type="text/javascript" src="scripts/controllers/routes.js"></script>
    
    
  </body>
</html>
